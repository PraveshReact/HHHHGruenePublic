"use strict";(self.webpackChunkgruene_website=self.webpackChunkgruene_website||[]).push([[384],{7384:(e,n,t)=>{t.r(n),t.d(n,{default:()=>d});var s=t(9379),i=t(5043),l=t(2382),o=(t(4430),t(9078),t(3522),t(5394)),r=(t(8248),t(6151)),a=t(579);const d=function(){const e=(0,i.useRef)(null),[n,t]=(0,i.useState)(null),[d,c]=(0,i.useState)(3),[u,h]=(0,i.useState)(3),[v,g]=(0,i.useState)(0),[m,w]=(0,i.useState)(null),[p,x]=(0,i.useState)(""),j={dots:!1,speed:500,slidesToShow:d,slidesToScroll:u,infinite:!1,autoplay:!1,autoplaySpeed:1e3,beforeChange:(e,n)=>{g(n)}},N=e=>{let{content:n}=e;return(0,a.jsx)("div",{className:"html-content ",dangerouslySetInnerHTML:{__html:n}})};(0,i.useEffect)((()=>{(async()=>{try{await(async e=>{let n=[];try{var s=new Headers;s.append("Content-Type","application/json");var i=JSON.stringify({table:"".concat(e)});fetch("https://gruene-weltweit.de/SPPublicAPIs/getDataAll.php",{method:"POST",headers:s,body:i,redirect:"follow"}).then((e=>e.text())).then((e=>{var s;console.log(e,"ddddd"),e=JSON.parse(e),n=null===(s=e)||void 0===s?void 0:s.data,n.sort(((e,n)=>{const t=new Date(e.PublishingDate);return new Date(n.PublishingDate)-t})),t(n)})).catch((e=>console.log("error",e)))}catch(l){console.error("An error occurred:",l)}return n})("".concat("Announcements"))}catch(e){console.log("An error occurred while fetching data.")}})()}),[]);const b=()=>{w(null)};return(0,i.useEffect)((()=>{const e=()=>{window.innerWidth<768?(c(1),h(1)):window.innerWidth<1200?(c(2),h(2)):(c(3),h(3))};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]),(0,a.jsxs)("div",{className:"section EventsCardSection",children:[(0,a.jsxs)("div",{className:"container",children:[(0,a.jsxs)("div",{className:"section-header",children:[(0,a.jsx)("h2",{className:"sectionHeading",children:"NEUIGKEITEN"}),(0,a.jsxs)("div",{className:"pull-right",children:[(0,a.jsx)("button",{onClick:()=>{e.current&&v>0&&(g((e=>e-1)),e.current.slickPrev())},className:"button_color",disabled:0===v,children:(0,a.jsx)(o.pRN,{})}),(0,a.jsx)("button",{onClick:()=>{e.current&&v<n.length-j.slidesToShow&&(g((e=>e+1)),e.current.slickNext())},className:"button_color",disabled:v===(null===n||void 0===n?void 0:n.length)-j.slidesToShow,children:(0,a.jsx)(o.zBw,{})})]})]}),(0,a.jsx)(l.A,(0,s.A)((0,s.A)({ref:e},j),{},{children:n&&n.map((e=>{var n,t,s,i;return(0,a.jsx)("div",{className:"",children:(0,a.jsxs)("div",{className:"card border-0",style:{position:"relative"},children:[(0,a.jsx)("img",{className:"card-img-top",src:""==(null===e||void 0===e?void 0:e.ItemCover)?"https://gruene-washington.de/PublishingImages/Covers/Default_img.jpg":null!==(n=null===e||void 0===e?void 0:e.ItemCover)&&void 0!==n?n:"https://gruene-washington.de/PublishingImages/Covers/Default_img.jpg"}),(0,a.jsxs)("div",{className:"card-body",children:[(0,a.jsxs)("div",{className:"entry-meta",children:[(0,a.jsx)(o.nih,{}),(0,a.jsx)("span",{children:(i=null===e||void 0===e?void 0:e.PublishingDate,new Date(i).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}))})]}),(0,a.jsx)("h4",{className:"card-title",onClick:()=>{return w(n=e),void x("https://www.gruene-washington.de/Neuigkeiten/".concat(null===n||void 0===n?void 0:n.Title));var n},children:(0,a.jsxs)("a",{children:[" ",null===e||void 0===e?void 0:e.Title]})}),(null===e||void 0===e||null===(t=e.Body)||void 0===t?void 0:t.length)>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"eventItemDesc cutoff-text",children:(0,a.jsx)("p",{children:(0,a.jsx)(N,{content:e.Body})})}),!((null===e||void 0===e||null===(s=e.Body)||void 0===s?void 0:s.length)<=200)&&(0,a.jsx)("input",{className:"expand-btn",type:"checkbox"})]})]})]})},e.id)}))}))]}),m&&(0,a.jsx)(r.A,{selectedNews:m,onClose:b,url:p})]})}}}]);
//# sourceMappingURL=384.4a6cde3e.chunk.js.map