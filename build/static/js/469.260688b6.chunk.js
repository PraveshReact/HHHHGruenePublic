"use strict";(self.webpackChunkgruene_website=self.webpackChunkgruene_website||[]).push([[469],{1469:(e,t,s)=>{s.r(t),s.d(t,{default:()=>c});var n=s(5043),i=s(2382),l=(s(4430),s(9078),s(7723)),r=s(7557),a=s(5394),o=(s(3522),s(8248)),d=s(579);const c=function(){var e;const t=(0,n.useRef)(null),[s,c]=(0,n.useState)(null),[u,v]=(0,n.useState)(3),[h,m]=(0,n.useState)(3),[p,g]=(0,n.useState)(0),[x,j]=(0,n.useState)(null),[w,f]=(0,n.useState)(""),b={dots:!1,speed:500,slidesToShow:u,slidesToScroll:h,infinite:!1,autoplay:!1,autoplaySpeed:1e3,beforeChange:(e,t)=>{g(t)}},N=()=>{j(null)},D=async e=>{let t=[];try{var s=new Headers;s.append("Content-Type","application/json");var n=JSON.stringify({table:"".concat(e)});fetch("https://gruene-weltweit.de/SPPublicAPIs/getDataAll.php",{method:"POST",headers:s,body:n,redirect:"follow"}).then((e=>e.text())).then((e=>{var s;e=JSON.parse(e),t=null===(s=e)||void 0===s?void 0:s.data;let n=t.sort(((e,t)=>{if(e.EventDate&&t.EventDate){const s=new Date(e.EventDate);return new Date(t.EventDate)-s}return 0})).map((e=>(e.Description&&(e.Description=(e=>{try{const t=/href="[^"]*SmartId\s*=\d+[^"]*Item\s*=[^"]*"|href="[^"]*SmartID\s*=\d+[^"]*item1\s*=[^"]*"/gi;let s=null===e||void 0===e?void 0:e.replace(t,(e=>{let t;if(e.includes("item1=")){var s;t=null===(s=e.split("item1=")[1])||void 0===s?void 0:s.replace(/%20/g,"-")}else{if(!e.includes("Item="))return e;var n;t=null===(n=e.split("Item=")[1])||void 0===n?void 0:n.replace(/%20/g,"-")}return'href="https://gruene-washington.de/'.concat(t,'"')}));const n=/sites\/GrueneWeltweit\/washington\/public\//g,i="";return s=s.replace(n,i),s}catch(t){return console.log(t),e}})(e.Description)),e)));c(n)})).catch((e=>console.log("error",e)))}catch(i){console.error("An error occurred:",i)}return t};(0,n.useEffect)((()=>{(async()=>{try{await D("".concat("events"))}catch(e){console.log("An error occurred while fetching data.")}})()}),[]),(0,n.useEffect)((()=>{const e=()=>{window.innerWidth<768?(v(1),m(1)):window.innerWidth<1200?(v(2),m(2)):(v(3),m(3))};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]);const S=e=>new Date(e).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"});return(0,d.jsxs)("div",{className:"section NewsCardSection",children:[(0,d.jsxs)("div",{className:"container",children:[(0,d.jsxs)("div",{className:"section-header",children:[(0,d.jsx)("h2",{className:"sectionHeading",children:"Events"}),(0,d.jsxs)("div",{className:"pull-right",children:[(0,d.jsx)("button",{onClick:()=>{t.current&&p>0&&(g((e=>e-1)),t.current.slickPrev())},className:"button_color",disabled:0===p,children:(0,d.jsx)(a.pRN,{})}),(0,d.jsx)("button",{onClick:()=>{t.current&&p<s.length-b.slidesToShow&&(g((e=>e+1)),t.current.slickNext())},className:"button_color",disabled:p===(null===s||void 0===s?void 0:s.length)-b.slidesToShow,children:(0,d.jsx)(a.zBw,{})})]})]}),(0,d.jsx)(i.A,{ref:t,...b,children:s&&s.map((e=>{var t,s,n;return(0,d.jsx)("div",{className:"",children:(0,d.jsxs)("div",{className:"card border-0",children:[(0,d.jsx)("img",{className:"card-img-top",src:""==(null===e||void 0===e?void 0:e.ItemCover)?"https://gruene-washington.de/PublishingImages/Covers/Default_img.jpg":null!==(t=null===e||void 0===e?void 0:e.ItemCover)&&void 0!==t?t:"https://gruene-washington.de/PublishingImages/Covers/Default_img.jpg"}),(0,d.jsxs)("div",{className:"card-body",children:[(0,d.jsxs)("div",{className:"entry-meta",children:[(0,d.jsx)(a.nih,{}),(0,d.jsx)("span",{children:null!==e&&void 0!==e&&e.EventDate?S(null===e||void 0===e?void 0:e.EventDate):""})]}),(0,d.jsx)("h4",{className:"card-title",onClick:()=>{return j(t=e),void f("https://www.gruene-washington.de/Veranstaltungen/".concat(null===t||void 0===t?void 0:t.Title));var t},children:(0,d.jsxs)("a",{children:[" ",null===e||void 0===e?void 0:e.Title]})}),(null===e||void 0===e||null===(s=e.Description)||void 0===s?void 0:s.length)>0&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"eventItemDesc cutoff-text",children:(0,d.jsx)("div",{dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.Description}})}),!((null===e||void 0===e||null===(n=e.Description)||void 0===n?void 0:n.length)<=200)&&(0,d.jsx)("input",{className:"expand-btn",type:"checkbox"})]})]})]})},e.id)}))})]}),x&&(0,d.jsx)(l.Z,{type:r.H.medium,customWidth:"550px",isOpen:x,isBlocking:!1,isFooterAtBottom:!0,onRenderHeader:()=>(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"align-items-center d-flex justify-content-between w-100",children:[(0,d.jsx)("h3",{className:"m-0",children:"Event Details"}),(0,d.jsxs)("div",{className:"Shareon align-items-baseline d-flex mb-0",children:[(0,d.jsx)("h6",{children:"Share :"}),(0,d.jsx)(o.A,{platform:"facebook",postUrl:w}),(0,d.jsx)(o.A,{platform:"twitter",postUrl:w}),(0,d.jsx)(o.A,{platform:"linkedin",postUrl:w}),(0,d.jsx)(o.A,{platform:"copy-link",postUrl:w}),(0,d.jsx)("span",{className:"svg__iconbox svg__icon--cross",style:{position:"relative",top:"6px"},onClick:N})]})]})}),children:(0,d.jsx)("div",{children:(0,d.jsxs)("div",{className:"p-0 news_home publicationItem clearfix bg-white  border-0 ",children:[(0,d.jsxs)("div",{className:"entry-meta",children:[(0,d.jsx)(a.nih,{}),(0,d.jsx)("span",{children:null!==x&&void 0!==x&&x.EventDate?S(null===x||void 0===x?void 0:x.EventDate):""})]}),(0,d.jsx)("h4",{children:null===x||void 0===x?void 0:x.Title}),(0,d.jsx)("div",{className:"imagedetail",children:(0,d.jsx)("img",{className:"image",src:""==(null===x||void 0===x?void 0:x.ItemCover)?"https://gruene-washington.de/PublishingImages/Covers/Default_img.jpg":null!==(e=null===x||void 0===x?void 0:x.ItemCover)&&void 0!==e?e:"https://gruene-washington.de/PublishingImages/Covers/Default_img.jpg"})}),(0,d.jsx)("div",{className:"eventItemDesc",children:(0,d.jsx)("span",{children:(0,d.jsx)("p",{dangerouslySetInnerHTML:{__html:null===x||void 0===x?void 0:x.Description}})})})]})})})]})}}}]);
//# sourceMappingURL=469.260688b6.chunk.js.map